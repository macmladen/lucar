
<!doctype html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Paul Irish</title>
  <meta name="author" content="Paul Irish">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="http://paulirish.com/">
  <style>html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}html{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}caption,th,td{text-align:left;font-weight:normal;vertical-align:middle}q,blockquote{quotes:none}q:before,q:after,blockquote:before,blockquote:after{content:"";content:none}a img{border:none}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary{display:block}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary{display:block}a{color:#1863a1}a:visited{color:#751590}a:focus{color:#0181eb}a:hover{color:#0181eb}a:active{color:#01579f}aside.sidebar a{color:#1863a1}aside.sidebar a:focus{color:#0181eb}aside.sidebar a:hover{color:#0181eb}aside.sidebar a:active{color:#01579f}a{-webkit-transition:color .3s;-moz-transition:color .3s;-o-transition:color .3s;transition:color .3s}html{background:#252525 url(http://www.paulirish.com/images/line-tile.png,q1418840251.pagespeed.ce.KXKF1PTbEj.png) top left}body>div{background:#f2f2f2 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left;border-bottom:1px solid #bfbfbf}body>div>div{background:#f8f8f8 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left;border-right:1px solid #e0e0e0}.heading,body>header h1,h1,h2,h3,h4,h5,h6{font-family:"Lato","Verdana",sans-serif}.sans,body>header h2,article header p.meta,article>footer,#content .blog-index footer,html .gist .gist-file .gist-meta,#blog-archives a.category,#blog-archives time,aside.sidebar section,body>footer{font-family:"PT Sans","Helvetica Neue",Arial,sans-serif}.serif,body,#content .blog-index a[rel="full-article"]{font-family:"Droid Sans","Baskerville",serif}.mono,pre,code,tt,p code,li code{font-family:Menlo,Monaco,"Andale Mono","lucida console","Courier New",monospace}body>header h1{font-size:2.2em;font-family:"Lato","Verdana",sans-serif;font-weight:normal;line-height:1.2em;margin-bottom:.6667em}body>header h2{font-family:"Lato","Verdana",sans-serif}body{line-height:1.5em;color:#222}h1{font-size:2.2em;line-height:1.2em}@media only screen and (min-width:992px){body{font-size:1.15em}h1{font-size:2.6em;line-height:1.2em}}h1,h2,h3,h4,h5,h6{text-rendering:optimizelegibility;margin-bottom:1em;font-weight:bold}h2,section h1{font-size:1.5em}h3,section h2,section section h1{font-size:1.3em}h4,section h3,section section h2,section section section h1{font-size:1em}h5,section h4,section section h3{font-size:.9em}h6,section h5,section section h4,section section section h3{font-size:.8em}p,blockquote,ul,ol{margin-bottom:1.5em}ul{list-style-type:disc}ul ul{list-style-type:circle;margin-bottom:0px}ul ul ul{list-style-type:square;margin-bottom:0px}ol{list-style-type:decimal}ol ol{list-style-type:lower-alpha;margin-bottom:0px}ol ol ol{list-style-type:lower-roman;margin-bottom:0px}ul,ul ul,ul ol,ol,ol ul,ol ol{margin-left:1.3em}strong{font-weight:bold}em{font-style:italic}sup,sub{font-size:.8em;position:relative;display:inline-block}sup{top:-.5em}sub{bottom:-.5em}q{font-style:italic}q:before{content:"\201C"}q:after{content:"\201D"}em,dfn{font-style:italic}strong,dfn{font-weight:bold}del,s{text-decoration:line-through}abbr,acronym{border-bottom:1px dotted;cursor:help}sub,sup{line-height:0}hr{margin-bottom:.2em}small{font-size:.8em}big{font-size:1.2em}blockquote{font-style:italic;position:relative;font-size:1.2em;line-height:1.5em;padding-left:1em;border-left:4px solid rgba(170,170,170,.5)}blockquote cite{font-style:italic}blockquote cite a{color:#aaa!important;word-wrap:break-word}blockquote cite:before{content:'\2014';padding-right:.3em;padding-left:.3em;color:#aaa}@media only screen and (min-width:992px){blockquote{padding-left:1.5em;border-left-width:4px}}.pullquote-right:before,.pullquote-left:before{padding:0;border:none;content:attr(data-pullquote);float:right;width:45%;margin:.5em 0 1em 1.5em;position:relative;top:7px;font-size:1.4em;line-height:1.45em}.pullquote-left:before{float:left;margin:.5em 1.5em 1em 0}.force-wrap,article a,aside.sidebar a{white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:pre-wrap;word-wrap:break-word}.group,body>header,body>nav,body>footer,body #content>article,body #content>div>article,body #content>div>section,body div.pagination,aside.sidebar,#main,#content,.sidebar{*zoom:1}.group:after,body>header:after,body>nav:after,body>footer:after,body #content>article:after,body #content>div>article:after,body #content>div>section:after,body div.pagination:after,aside.sidebar:after,#main:after,#content:after,.sidebar:after{content:"";display:table;clear:both}body{-webkit-text-size-adjust:none;max-width:1200px;position:relative;margin:0 auto}body>header,body>nav,body>footer,body #content>article,body #content>div>article,body #content>div>section{padding-left:18px;padding-right:18px}@media only screen and (min-width:480px){body>header,body>nav,body>footer,body #content>article,body #content>div>article,body #content>div>section{padding-left:25px;padding-right:25px}}@media only screen and (min-width:768px){body>header,body>nav,body>footer,body #content>article,body #content>div>article,body #content>div>section{padding-left:35px;padding-right:35px}}@media only screen and (min-width:992px){body>header,body>nav,body>footer,body #content>article,body #content>div>article,body #content>div>section{padding-left:55px;padding-right:55px}}body div.pagination{margin-left:18px;margin-right:18px}@media only screen and (min-width:480px){body div.pagination{margin-left:25px;margin-right:25px}}@media only screen and (min-width:768px){body div.pagination{margin-left:35px;margin-right:35px}}@media only screen and (min-width:992px){body div.pagination{margin-left:55px;margin-right:55px}}body>header{font-size:1em;padding-top:1.5em;padding-bottom:1.5em}#content{overflow:hidden}#content>div,#content>article{width:100%}aside.sidebar{float:none;padding:0 18px 1px;background-color:#f7f7f7;border-top:1px solid #e0e0e0}.flex-content,article img,article video,article .flash-video,aside.sidebar img{max-width:100%;height:auto}.basic-alignment.left,article img.left,article video.left,article .left.flash-video,aside.sidebar img.left{float:left;margin-right:1.5em}.basic-alignment.right,article img.right,article video.right,article .right.flash-video,aside.sidebar img.right{float:right;margin-left:1.5em}.basic-alignment.center,article img.center,article video.center,article .center.flash-video,aside.sidebar img.center{display:block;margin:0 auto 1.5em}.basic-alignment.left,article img.left,article video.left,article .left.flash-video,aside.sidebar img.left,.basic-alignment.right,article img.right,article video.right,article .right.flash-video,aside.sidebar img.right{margin-bottom:.8em}.toggle-sidebar,.no-sidebar .toggle-sidebar{display:none}@media only screen and (min-width:750px){body.sidebar-footer aside.sidebar{float:none;width:auto;clear:left;margin:0;padding:0 35px 1px;background-color:#f7f7f7;border-top:1px solid #eaeaea}body.sidebar-footer aside.sidebar section.odd,body.sidebar-footer aside.sidebar section.even{float:left;width:48%}body.sidebar-footer aside.sidebar section.odd{margin-left:0}body.sidebar-footer aside.sidebar section.even{margin-left:4%}body.sidebar-footer aside.sidebar.thirds section{width:30%;margin-left:5%}body.sidebar-footer aside.sidebar.thirds section.first{margin-left:0;clear:both}}body.sidebar-footer #content{margin-right:0px}body.sidebar-footer .toggle-sidebar{display:none}@media only screen and (min-width:550px){body>header{font-size:1em}}@media only screen and (min-width:750px){aside.sidebar{float:none;width:auto;clear:left;margin:0;padding:0 35px 1px;background-color:#f7f7f7;border-top:1px solid #eaeaea}aside.sidebar section.odd,aside.sidebar section.even{float:left;width:48%}aside.sidebar section.odd{margin-left:0}aside.sidebar section.even{margin-left:4%}aside.sidebar.thirds section{width:30%;margin-left:5%}aside.sidebar.thirds section.first{margin-left:0;clear:both}}@media only screen and (min-width:768px){body{-webkit-text-size-adjust:auto}body>header{font-size:1.2em}#main{padding:0;margin:0 auto}#content{overflow:visible;margin-right:240px;position:relative}.no-sidebar #content{margin-right:0;border-right:0}.collapse-sidebar #content{margin-right:20px}#content>div,#content>article{padding-top:17.5px;padding-bottom:17.5px;float:left}aside.sidebar{width:210px;padding:0 15px 15px;background:none;clear:none;float:left;margin:1.2em -100% 0 0}aside.sidebar section{width:auto;margin-left:0}aside.sidebar section.odd,aside.sidebar section.even{float:none;width:auto;margin-left:0}.collapse-sidebar aside.sidebar{float:none;width:auto;clear:left;margin:0;padding:0 35px 1px;background-color:#f7f7f7;border-top:1px solid #eaeaea}.collapse-sidebar aside.sidebar section.odd,.collapse-sidebar aside.sidebar section.even{float:left;width:48%}.collapse-sidebar aside.sidebar section.odd{margin-left:0}.collapse-sidebar aside.sidebar section.even{margin-left:4%}.collapse-sidebar aside.sidebar.thirds section{width:30%;margin-left:5%}.collapse-sidebar aside.sidebar.thirds section.first{margin-left:0;clear:both}}@media only screen and (min-width:992px){body>header{font-size:1.3em}#content{margin-right:300px}#content>div,#content>article{padding-top:27.5px;padding-bottom:27.5px}aside.sidebar{width:260px;padding:1.2em 20px 20px}.collapse-sidebar aside.sidebar{padding-left:55px;padding-right:55px}}@media only screen and (min-width:768px){ul,ol{margin-left:0}}body>header{background:#333}body>header h1{display:inline-block;margin:0}body>header h1 a,body>header h1 a:visited,body>header h1 a:hover{color:#f2f2f2;text-decoration:none}body>header h2{margin:.2em 0 0;font-size:1em;color:#aaa;font-weight:normal}body>nav{position:relative;background-color:#ccc;background:url('/images/noise.png?1418840251'),-webkit-gradient(linear,50% 0%,50% 100%,color-stop(0%,#e0e0e0),color-stop(50%,#cccccc),color-stop(100%,#b0b0b0));background:url('/images/noise.png?1418840251'),-webkit-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),-moz-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),-o-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),linear-gradient(#e0e0e0,#cccccc,#b0b0b0);border-top:1px solid #f2f2f2;border-bottom:1px solid #8c8c8c;padding-top:.35em;padding-bottom:.35em}body>nav form{-webkit-background-clip:padding;-moz-background-clip:padding;background-clip:padding-box;margin:0;padding:0}body>nav form .search{padding:.3em .5em 0;font-size:.85em;font-family:"PT Sans","Helvetica Neue",Arial,sans-serif;line-height:1.1em;width:95%;-webkit-border-radius:.5em;-moz-border-radius:.5em;-ms-border-radius:.5em;-o-border-radius:.5em;border-radius:.5em;-webkit-background-clip:padding;-moz-background-clip:padding;background-clip:padding-box;-webkit-box-shadow:#d1d1d1 0 1px;-moz-box-shadow:#d1d1d1 0 1px;box-shadow:#d1d1d1 0 1px;background-color:#f2f2f2;border:1px solid #b3b3b3;color:#888}body>nav form .search:focus{color:#444;border-color:#80b1df;-webkit-box-shadow:#80b1df 0 0 4px,#80b1df 0 0 3px inset;-moz-box-shadow:#80b1df 0 0 4px,#80b1df 0 0 3px inset;box-shadow:#80b1df 0 0 4px,#80b1df 0 0 3px inset;background-color:#fff;outline:none}body>nav fieldset[role="search"]{float:right;width:48%}body>nav fieldset.mobile-nav{float:left;width:48%}body>nav fieldset.mobile-nav select{width:100%;font-size:.8em;border:1px solid #888}body>nav ul{display:none}@media only screen and (min-width:550px){body>nav{font-size:.9em}body>nav ul{margin:0;padding:0;border:0;overflow:hidden;*zoom:1;float:left;display:block;padding-top:.15em}body>nav ul li{list-style-image:none;list-style-type:none;margin-left:0;white-space:nowrap;display:inline;float:left;padding-left:0;padding-right:0}body>nav ul li:first-child,body>nav ul li.first{padding-left:0}body>nav ul li:last-child{padding-right:0}body>nav ul li.last{padding-right:0}body>nav ul.subscription{margin-left:.8em;float:right}body>nav ul.subscription li:last-child a{padding-right:0}body>nav ul li{margin:0}body>nav a{color:#6b6b6b;font-family:"PT Sans","Helvetica Neue",Arial,sans-serif;text-shadow:#ebebeb 0 1px;float:left;text-decoration:none;font-size:1.1em;padding:.1em 0;line-height:1.5em}body>nav a:visited{color:#6b6b6b}body>nav a:hover{color:#2b2b2b}body>nav li+li{border-left:1px solid #b0b0b0;margin-left:.8em}body>nav li+li a{padding-left:.8em;border-left:1px solid #dedede}body>nav form{float:right;text-align:left;padding-left:.8em;width:175px}body>nav form .search{width:93%;font-size:.95em;line-height:1.2em}body>nav ul[data-subscription$="email"]+form{width:97px}body>nav ul[data-subscription$="email"]+form .search{width:91%}body>nav fieldset.mobile-nav{display:none}body>nav fieldset[role="search"]{width:99%}}@media only screen and (min-width:992px){body>nav form{width:215px}body>nav ul[data-subscription$="email"]+form{width:147px}}.no-placeholder body>nav .search{background:#f2f2f2 url(http://www.paulirish.com/images/xsearch.png,q1418840251.pagespeed.ic.Ic74msztH_.png) .3em .25em no-repeat;text-indent:1.3em}@media only screen and (min-width:550px){.maskImage body>nav ul[data-subscription$="email"]+form{width:123px}}@media only screen and (min-width:992px){.maskImage body>nav ul[data-subscription$="email"]+form{width:173px}}.maskImage ul.subscription{position:relative;top:.2em}.maskImage ul.subscription li,.maskImage ul.subscription a{border:0;padding:0}.maskImage a[rel="subscribe-rss"]{position:relative;top:0px;text-indent:-999999em;background-color:#dedede;border:0;padding:0}.maskImage a[rel="subscribe-rss"],.maskImage a[rel="subscribe-rss"]:after{-webkit-mask-image:url(/images/rss.png?1418840251);-moz-mask-image:url(/images/rss.png?1418840251);-ms-mask-image:url(/images/rss.png?1418840251);-o-mask-image:url(/images/rss.png?1418840251);mask-image:url(/images/rss.png?1418840251);-webkit-mask-repeat:no-repeat;-moz-mask-repeat:no-repeat;-ms-mask-repeat:no-repeat;-o-mask-repeat:no-repeat;mask-repeat:no-repeat;width:22px;height:22px}.maskImage a[rel="subscribe-rss"]:after{content:"";position:absolute;top:-1px;left:0;background-color:#ababab}.maskImage a[rel="subscribe-rss"]:hover:after{background-color:#9e9e9e}.maskImage a[rel="subscribe-email"]{position:relative;top:0px;text-indent:-999999em;background-color:#dedede;border:0;padding:0}.maskImage a[rel="subscribe-email"],.maskImage a[rel="subscribe-email"]:after{-webkit-mask-image:url(/images/email.png?1418840251);-moz-mask-image:url(/images/email.png?1418840251);-ms-mask-image:url(/images/email.png?1418840251);-o-mask-image:url(/images/email.png?1418840251);mask-image:url(/images/email.png?1418840251);-webkit-mask-repeat:no-repeat;-moz-mask-repeat:no-repeat;-ms-mask-repeat:no-repeat;-o-mask-repeat:no-repeat;mask-repeat:no-repeat;width:28px;height:22px}.maskImage a[rel="subscribe-email"]:after{content:"";position:absolute;top:-1px;left:0;background-color:#ababab}.maskImage a[rel="subscribe-email"]:hover:after{background-color:#9e9e9e}article{padding-top:1em}article header{position:relative;padding-top:2em;padding-bottom:1em;margin-bottom:1em;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) bottom left repeat-x}article header h1{margin:0}article header h1 a{text-decoration:none}article header h1 a:hover{text-decoration:underline}article header p{font-size:.9em;color:#aaa;margin:0}article header p.meta{text-transform:uppercase;position:absolute;top:0}@media only screen and (min-width:768px){article header{margin-bottom:1.5em;padding-bottom:1em;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) bottom left repeat-x}}article h2{padding-top:.8em;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) top left repeat-x}.entry-content article h2:first-child,article header+h2{padding-top:0}article h2:first-child,article header+h2{background:none}article .feature{padding-top:.5em;margin-bottom:1em;padding-bottom:1em;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) bottom left repeat-x;font-size:2.0em;font-style:italic;line-height:1.3em}article img,article video,article .flash-video{-webkit-border-radius:.3em;-moz-border-radius:.3em;-ms-border-radius:.3em;-o-border-radius:.3em;border-radius:.3em;-webkit-box-shadow:rgba(0,0,0,.15) 0 1px 4px;-moz-box-shadow:rgba(0,0,0,.15) 0 1px 4px;box-shadow:rgba(0,0,0,.15) 0 1px 4px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:#fff .5em solid}article video,article .flash-video{margin:0 auto 1.5em}article video{display:block;width:100%}article .flash-video>div{position:relative;display:block;padding-bottom:56.25%;padding-top:1px;height:0;overflow:hidden}article .flash-video>div iframe,article .flash-video>div object,article .flash-video>div embed{position:absolute;top:0;left:0;width:100%;height:100%}article>footer{padding-bottom:2.5em;margin-top:2em}article>footer p.meta{margin-bottom:.8em;font-size:.85em;clear:both;overflow:hidden}.blog-index article+article{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) top left repeat-x}#content .blog-index{padding-top:0;padding-bottom:0}#content .blog-index article{padding-top:2em}#content .blog-index article header{background:none;padding-bottom:0}#content .blog-index article h1{font-size:2.2em}#content .blog-index article h1 a{color:inherit}#content .blog-index article h1 a:hover{color:#0181eb}#content .blog-index a[rel="full-article"]{background:#ebebeb;display:inline-block;padding:.4em .8em;margin-right:.5em;text-decoration:none;color:#666;-webkit-transition:background-color .5s;-moz-transition:background-color .5s;-o-transition:background-color .5s;transition:background-color .5s}#content .blog-index a[rel="full-article"]:hover{background:#0181eb;text-shadow:none;color:#f8f8f8}#content .blog-index footer{margin-top:1em}.separator,article>footer .byline+time:before,article>footer time+time:before,article>footer .comments:before,article>footer .byline~.categories:before{content:"\2022 ";padding:0 .4em 0 .2em;display:inline-block}#content div.pagination{text-align:center;font-size:.95em;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) top left repeat-x;padding-top:1.5em;padding-bottom:1.5em}#content div.pagination a{text-decoration:none;color:#aaa}#content div.pagination a.prev{position:absolute;left:0}#content div.pagination a.next{position:absolute;right:0}#content div.pagination a:hover{color:#0181eb}#content div.pagination a[href*="archive"]:before,#content div.pagination a[href*="archive"]:after{content:'\2014';padding:0 .3em}p.meta+.sharing{padding-top:1em;padding-left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) top left repeat-x}#fb-root{display:none}.highlight,html .gist .gist-file .gist-syntax .gist-highlight{border:1px solid #05232b!important}.highlight table td.code,html .gist .gist-file .gist-syntax .gist-highlight table td.code{width:100%}.highlight .line-numbers,html .gist .gist-file .gist-syntax .highlight .line_numbers{text-align:right;font-size:13px;line-height:1.45em;background:#073642 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left!important;border-right:1px solid #00232c!important;-webkit-box-shadow:#083e4b -1px 0 inset;-moz-box-shadow:#083e4b -1px 0 inset;box-shadow:#083e4b -1px 0 inset;text-shadow:#021014 0 -1px;padding:.8em!important;-webkit-border-radius:0;-moz-border-radius:0;-ms-border-radius:0;-o-border-radius:0;border-radius:0}.highlight .line-numbers span,html .gist .gist-file .gist-syntax .highlight .line_numbers span{color:#586e75!important}figure.code,.gist-file,pre{-webkit-box-shadow:rgba(0,0,0,.06) 0 0 10px;-moz-box-shadow:rgba(0,0,0,.06) 0 0 10px;box-shadow:rgba(0,0,0,.06) 0 0 10px}figure.code .highlight pre,.gist-file .highlight pre,pre .highlight pre{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.gist .highlight *::-moz-selection,figure.code .highlight *::-moz-selection{background:#386774;color:inherit;text-shadow:#002b36 0 1px}.gist .highlight *::-webkit-selection,figure.code .highlight *::-webkit-selection{background:#386774;color:inherit;text-shadow:#002b36 0 1px}.gist .highlight *::selection,figure.code .highlight *::selection{background:#386774;color:inherit;text-shadow:#002b36 0 1px}html .gist .gist-file{margin-bottom:1.8em;position:relative;border:none;padding-top:26px!important}html .gist .gist-file .highlight{margin-bottom:0}html .gist .gist-file .gist-syntax{border-bottom:0!important;background:none!important}html .gist .gist-file .gist-syntax .gist-highlight{background:#002b36!important}html .gist .gist-file .gist-syntax .highlight pre{padding:0}html .gist .gist-file .gist-meta{padding:.6em .8em;border:1px solid #083e4b!important;color:#586e75;font-size:.7em!important;background:#073642 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left;line-height:1.5em}html .gist .gist-file .gist-meta a{color:#75878b!important;text-decoration:none}html .gist .gist-file .gist-meta a:hover{text-decoration:underline}html .gist .gist-file .gist-meta a:hover{color:#93a1a1!important}html .gist .gist-file .gist-meta a[href*="#file"]{position:absolute;top:0;left:0;right:-10px;color:#474747!important}html .gist .gist-file .gist-meta a[href*="#file"]:hover{color:#1863a1!important}html .gist .gist-file .gist-meta a[href*="raw"]{top:.4em}pre{background:#002b36 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left;-webkit-border-radius:.4em;-moz-border-radius:.4em;-ms-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;border:1px solid #05232b;line-height:1.45em;font-size:13px;margin-bottom:2.1em;padding:.8em 1em;color:#93a1a1;overflow:auto}h3.filename+pre{-moz-border-radius-topleft:0px;-webkit-border-top-left-radius:0px;border-top-left-radius:0px;-moz-border-radius-topright:0px;-webkit-border-top-right-radius:0px;border-top-right-radius:0px}p code,li code{display:inline-block;white-space:no-wrap;background:#fff;font-size:.8em;line-height:1.5em;color:#555;border:1px solid #ddd;-webkit-border-radius:.4em;-moz-border-radius:.4em;-ms-border-radius:.4em;-o-border-radius:.4em;border-radius:.4em;padding:0 .3em;margin:-1px 0}p pre code,li pre code{font-size:1em!important;background:none;border:none}.pre-code,html .gist .gist-file .gist-syntax .highlight pre,.highlight code{font-family:Menlo,Monaco,"Andale Mono","lucida console","Courier New",monospace!important;overflow:scroll;overflow-y:hidden;display:block;padding:.8em;overflow-x:auto;line-height:1.45em;background:#002b36 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left!important;color:#93a1a1!important}.pre-code span,html .gist .gist-file .gist-syntax .highlight pre span,.highlight code span{color:#93a1a1!important}.pre-code span,html .gist .gist-file .gist-syntax .highlight pre span,.highlight code span{font-style:normal!important;font-weight:normal!important}.pre-code .c,html .gist .gist-file .gist-syntax .highlight pre .c,.highlight code .c{color:#586e75!important;font-style:italic!important}.pre-code .cm,html .gist .gist-file .gist-syntax .highlight pre .cm,.highlight code .cm{color:#586e75!important;font-style:italic!important}.pre-code .cp,html .gist .gist-file .gist-syntax .highlight pre .cp,.highlight code .cp{color:#586e75!important;font-style:italic!important}.pre-code .c1,html .gist .gist-file .gist-syntax .highlight pre .c1,.highlight code .c1{color:#586e75!important;font-style:italic!important}.pre-code .cs,html .gist .gist-file .gist-syntax .highlight pre .cs,.highlight code .cs{color:#586e75!important;font-weight:bold!important;font-style:italic!important}.pre-code .err,html .gist .gist-file .gist-syntax .highlight pre .err,.highlight code .err{color:#dc322f!important;background:none!important}.pre-code .k,html .gist .gist-file .gist-syntax .highlight pre .k,.highlight code .k{color:#cb4b16!important}.pre-code .o,html .gist .gist-file .gist-syntax .highlight pre .o,.highlight code .o{color:#93a1a1!important;font-weight:bold!important}.pre-code .p,html .gist .gist-file .gist-syntax .highlight pre .p,.highlight code .p{color:#93a1a1!important}.pre-code .ow,html .gist .gist-file .gist-syntax .highlight pre .ow,.highlight code .ow{color:#2aa198!important;font-weight:bold!important}.pre-code .gd,html .gist .gist-file .gist-syntax .highlight pre .gd,.highlight code .gd{color:#93a1a1!important;background-color:#372c34!important;display:inline-block}.pre-code .gd .x,html .gist .gist-file .gist-syntax .highlight pre .gd .x,.highlight code .gd .x{color:#93a1a1!important;background-color:#4d2d33!important;display:inline-block}.pre-code .ge,html .gist .gist-file .gist-syntax .highlight pre .ge,.highlight code .ge{color:#93a1a1!important;font-style:italic!important}.pre-code .gh,html .gist .gist-file .gist-syntax .highlight pre .gh,.highlight code .gh{color:#586e75!important}.pre-code .gi,html .gist .gist-file .gist-syntax .highlight pre .gi,.highlight code .gi{color:#93a1a1!important;background-color:#1a412b!important;display:inline-block}.pre-code .gi .x,html .gist .gist-file .gist-syntax .highlight pre .gi .x,.highlight code .gi .x{color:#93a1a1!important;background-color:#355720!important;display:inline-block}.pre-code .gs,html .gist .gist-file .gist-syntax .highlight pre .gs,.highlight code .gs{color:#93a1a1!important;font-weight:bold!important}.pre-code .gu,html .gist .gist-file .gist-syntax .highlight pre .gu,.highlight code .gu{color:#6c71c4!important}.pre-code .kc,html .gist .gist-file .gist-syntax .highlight pre .kc,.highlight code .kc{color:#859900!important;font-weight:bold!important}.pre-code .kd,html .gist .gist-file .gist-syntax .highlight pre .kd,.highlight code .kd{color:#268bd2!important}.pre-code .kp,html .gist .gist-file .gist-syntax .highlight pre .kp,.highlight code .kp{color:#cb4b16!important;font-weight:bold!important}.pre-code .kr,html .gist .gist-file .gist-syntax .highlight pre .kr,.highlight code .kr{color:#d33682!important;font-weight:bold!important}.pre-code .kt,html .gist .gist-file .gist-syntax .highlight pre .kt,.highlight code .kt{color:#2aa198!important}.pre-code .n,html .gist .gist-file .gist-syntax .highlight pre .n,.highlight code .n{color:#268bd2!important}.pre-code .na,html .gist .gist-file .gist-syntax .highlight pre .na,.highlight code .na{color:#268bd2!important}.pre-code .nb,html .gist .gist-file .gist-syntax .highlight pre .nb,.highlight code .nb{color:#859900!important}.pre-code .nc,html .gist .gist-file .gist-syntax .highlight pre .nc,.highlight code .nc{color:#d33682!important}.pre-code .no,html .gist .gist-file .gist-syntax .highlight pre .no,.highlight code .no{color:#b58900!important}.pre-code .nl,html .gist .gist-file .gist-syntax .highlight pre .nl,.highlight code .nl{color:#859900!important}.pre-code .ne,html .gist .gist-file .gist-syntax .highlight pre .ne,.highlight code .ne{color:#268bd2!important;font-weight:bold!important}.pre-code .nf,html .gist .gist-file .gist-syntax .highlight pre .nf,.highlight code .nf{color:#268bd2!important;font-weight:bold!important}.pre-code .nn,html .gist .gist-file .gist-syntax .highlight pre .nn,.highlight code .nn{color:#b58900!important}.pre-code .nt,html .gist .gist-file .gist-syntax .highlight pre .nt,.highlight code .nt{color:#268bd2!important;font-weight:bold!important}.pre-code .nx,html .gist .gist-file .gist-syntax .highlight pre .nx,.highlight code .nx{color:#b58900!important}.pre-code .vg,html .gist .gist-file .gist-syntax .highlight pre .vg,.highlight code .vg{color:#268bd2!important}.pre-code .vi,html .gist .gist-file .gist-syntax .highlight pre .vi,.highlight code .vi{color:#268bd2!important}.pre-code .nv,html .gist .gist-file .gist-syntax .highlight pre .nv,.highlight code .nv{color:#268bd2!important}.pre-code .mf,html .gist .gist-file .gist-syntax .highlight pre .mf,.highlight code .mf{color:#2aa198!important}.pre-code .m,html .gist .gist-file .gist-syntax .highlight pre .m,.highlight code .m{color:#2aa198!important}.pre-code .mh,html .gist .gist-file .gist-syntax .highlight pre .mh,.highlight code .mh{color:#2aa198!important}.pre-code .mi,html .gist .gist-file .gist-syntax .highlight pre .mi,.highlight code .mi{color:#2aa198!important}.pre-code .s,html .gist .gist-file .gist-syntax .highlight pre .s,.highlight code .s{color:#2aa198!important}.pre-code .sd,html .gist .gist-file .gist-syntax .highlight pre .sd,.highlight code .sd{color:#2aa198!important}.pre-code .s2,html .gist .gist-file .gist-syntax .highlight pre .s2,.highlight code .s2{color:#2aa198!important}.pre-code .se,html .gist .gist-file .gist-syntax .highlight pre .se,.highlight code .se{color:#dc322f!important}.pre-code .si,html .gist .gist-file .gist-syntax .highlight pre .si,.highlight code .si{color:#268bd2!important}.pre-code .sr,html .gist .gist-file .gist-syntax .highlight pre .sr,.highlight code .sr{color:#2aa198!important}.pre-code .s1,html .gist .gist-file .gist-syntax .highlight pre .s1,.highlight code .s1{color:#2aa198!important}.pre-code div .gd,html .gist .gist-file .gist-syntax .highlight pre div .gd,.highlight code div .gd,.pre-code div .gd .x,html .gist .gist-file .gist-syntax .highlight pre div .gd .x,.highlight code div .gd .x,.pre-code div .gi,html .gist .gist-file .gist-syntax .highlight pre div .gi,.highlight code div .gi,.pre-code div .gi .x,html .gist .gist-file .gist-syntax .highlight pre div .gi .x,.highlight code div .gi .x{display:inline-block;width:100%}.highlight,.gist-highlight{margin-bottom:1.8em;background:#002b36;overflow-y:hidden;overflow-x:auto}.highlight pre,.gist-highlight pre{background:none;-webkit-border-radius:0px;-moz-border-radius:0px;-ms-border-radius:0px;-o-border-radius:0px;border-radius:0px;border:none;padding:0;margin-bottom:0}pre::-webkit-scrollbar,.highlight::-webkit-scrollbar,.gist-highlight::-webkit-scrollbar{height:.5em;background:rgba(255,255,255,.15)}pre::-webkit-scrollbar-thumb:horizontal,.highlight::-webkit-scrollbar-thumb:horizontal,.gist-highlight::-webkit-scrollbar-thumb:horizontal{background:rgba(255,255,255,.2);-webkit-border-radius:4px;border-radius:4px}.highlight code{background:#000}figure.code{background:none;padding:0;border:0;margin-bottom:1.5em}figure.code pre{margin-bottom:0}figure.code figcaption{position:relative}figure.code .highlight{margin-bottom:0}.code-title,html .gist .gist-file .gist-meta a[href*="#file"],h3.filename,figure.code figcaption{text-align:center;font-size:13px;line-height:2em;text-shadow:#cbcccc 0 1px 0;color:#474747;font-weight:normal;margin-bottom:0;-moz-border-radius-topleft:5px;-webkit-border-top-left-radius:5px;border-top-left-radius:5px;-moz-border-radius-topright:5px;-webkit-border-top-right-radius:5px;border-top-right-radius:5px;font-family:"Helvetica Neue",Arial,"Lucida Grande","Lucida Sans Unicode",Lucida,sans-serif;background:#aaa url(http://www.paulirish.com/images/xcode_bg.png,q1418840251.pagespeed.ic.Wi2tO2CytU.png) top repeat-x;border:1px solid #565656;border-top-color:#cbcbcb;border-left-color:#a5a5a5;border-right-color:#a5a5a5;border-bottom:0}.download-source,html .gist .gist-file .gist-meta a[href*="raw"],figure.code figcaption a{position:absolute;right:.8em;text-decoration:none;color:#666!important;z-index:1;font-size:13px;text-shadow:#cbcccc 0 1px 0;padding-left:3em}.download-source:hover,html .gist .gist-file .gist-meta a[href*="raw"]:hover,figure.code figcaption a:hover{text-decoration:underline}#archive #content>div,#archive #content>div>article{padding-top:0}#blog-archives{color:#aaa}#blog-archives article{padding:1em 0 1em;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAABCAYAAACsXeyTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAFUlEQVQIHWNIS0sr/v//PwMMDzY+ADqMahlW4J91AAAAAElFTkSuQmCC) bottom left repeat-x}#blog-archives article:last-child{background:none}#blog-archives article footer{padding:0;margin:0}#blog-archives h1{color:#222;margin-bottom:.3em}#blog-archives h2{display:none}#blog-archives h1{font-size:1.5em}#blog-archives h1 a{text-decoration:none;color:inherit;font-weight:normal;display:inline-block}#blog-archives h1 a:hover{text-decoration:underline}#blog-archives h1 a:hover{color:#0181eb}#blog-archives a.category,#blog-archives time{color:#aaa}#blog-archives .entry-content{display:none}#blog-archives time{font-size:.9em;line-height:1.2em}#blog-archives time .month,#blog-archives time .day{display:inline-block}#blog-archives time .month{text-transform:uppercase}#blog-archives p{margin-bottom:1em}#blog-archives a,#blog-archives .entry-content a{color:inherit}#blog-archives a:hover,#blog-archives .entry-content a:hover{color:#0181eb}#blog-archives a:hover{color:#0181eb}@media only screen and (min-width:550px){#blog-archives article{margin-left:5em}#blog-archives h2{margin-bottom:.3em;font-weight:normal;display:inline-block;position:relative;top:-1px;float:left}#blog-archives h2:first-child{padding-top:.75em}#blog-archives time{position:absolute;text-align:right;left:0em;top:1.8em}#blog-archives .year{display:none}#blog-archives article{padding-left:4.5em;padding-bottom:.7em}#blog-archives a.category{line-height:1.1em}}#content>.category article{margin-left:0;padding-left:6.8em}#content>.category .year{display:inline}.side-shadow-border,aside.sidebar section h1,aside.sidebar li{-webkit-box-shadow:#fff 0 1px;-moz-box-shadow:#fff 0 1px;box-shadow:#fff 0 1px}aside.sidebar{overflow:hidden;color:#4b4b4b;text-shadow:#fff 0 1px}aside.sidebar section{font-size:.8em;line-height:1.4em;margin-bottom:1.5em}aside.sidebar section h1{margin:1.5em 0 0;padding-bottom:.2em;border-bottom:1px solid #e0e0e0}aside.sidebar section h1+p{padding-top:.4em}aside.sidebar img{-webkit-border-radius:.3em;-moz-border-radius:.3em;-ms-border-radius:.3em;-o-border-radius:.3em;border-radius:.3em;-webkit-box-shadow:rgba(0,0,0,.15) 0 1px 4px;-moz-box-shadow:rgba(0,0,0,.15) 0 1px 4px;box-shadow:rgba(0,0,0,.15) 0 1px 4px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:#fff .3em solid}aside.sidebar ul{margin-bottom:.5em;margin-left:0}aside.sidebar li{list-style:none;padding:.5em 0;margin:0;border-bottom:1px solid #e0e0e0}aside.sidebar li p:last-child{margin-bottom:0}aside.sidebar a{color:inherit;-webkit-transition:color .5s;-moz-transition:color .5s;-o-transition:color .5s;transition:color .5s}aside.sidebar:hover a{color:#1863a1}aside.sidebar:hover a:hover{color:#0181eb}.aside-alt-link,#tweets a[href*="twitter.com/search"],#pinboard_linkroll .pin-tag{color:#7e7e7e}.aside-alt-link:hover,#tweets a[href*="twitter.com/search"]:hover,#pinboard_linkroll .pin-tag:hover{color:#0181eb}@media only screen and (min-width:768px){.toggle-sidebar{outline:none;position:absolute;right:-10px;top:0;bottom:0;display:inline-block;text-decoration:none;color:#cecece;width:9px;cursor:pointer}.toggle-sidebar:hover{background:#e9e9e9;background:-webkit-gradient(linear,0% 50%,100% 50%,color-stop(0%,rgba(224,224,224,.5)),color-stop(100%,rgba(224,224,224,0)));background:-webkit-linear-gradient(left,rgba(224,224,224,.5),rgba(224,224,224,0));background:-moz-linear-gradient(left,rgba(224,224,224,.5),rgba(224,224,224,0));background:-o-linear-gradient(left,rgba(224,224,224,.5),rgba(224,224,224,0));background:linear-gradient(left,rgba(224,224,224,.5),rgba(224,224,224,0))}.toggle-sidebar:after{position:absolute;right:-11px;top:0;width:20px;font-size:1.2em;line-height:1.1em;padding-bottom:.15em;-moz-border-radius-bottomright:.3em;-webkit-border-bottom-right-radius:.3em;border-bottom-right-radius:.3em;text-align:center;background:#f8f8f8 url(http://www.paulirish.com/images/noise.png,q1418840251.pagespeed.ce.HTjt1HGGK8.png) top left;border-bottom:1px solid #e0e0e0;border-right:1px solid #e0e0e0;content:"\00BB";text-indent:-1px}.collapse-sidebar .toggle-sidebar{text-indent:0px;right:-20px;width:19px}.collapse-sidebar .toggle-sidebar:hover{background:#e9e9e9}.collapse-sidebar .toggle-sidebar:after{border-left:1px solid #e0e0e0;text-shadow:#fff 0 1px;content:"\00AB";left:0px;right:0;text-align:center;text-indent:0;border:0;border-right-width:0;background:none}}#tweets .loading{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMjgwMTE3NDA3MjA2ODExQTQxQUNFN0NCOEMyNEMzNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowQkYxMEI5QjQ5QzYxMUUwQTJGN0YyQzFDMzFCQjZCMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowQkYxMEI5QTQ5QzYxMUUwQTJGN0YyQzFDMzFCQjZCMyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkIxREYyRDc2MTIyMDY4MTFBNDFBQ0U3Q0I4QzI0QzM2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjAyODAxMTc0MDcyMDY4MTFBNDFBQ0U3Q0I4QzI0QzM2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bAX+SwAAAZBJREFUeNrsl+1tgzAQhgF1AHeCphPU3QA2SDcIEzRMUDpB0wlCJ8gIcf+DQicoG5QNqC29SJZl/EHc8oeTTkTCvnvse3048TAM0ZKWRAvbCnDTNE3omBvulHvPnVkBAic/ct/hd4fn/X+VQE4+AjzN0UDK/Zv7njtxTL5Tko9xLgAjPgA96vjG/QcBqCE5wVgT3HkKQgfQcq+UABcESTXjXXaKYr6zBnIFYtzSswbk2bFMVFOmSYBSN1gBGetOPIT64noMmW6wRvX9jB6xlXT2YALIkSSyCNDXTpLYM1MfEBooZqzSxVoskCQOx4v8AQDF7m5MAD0oQ5uImXG/Fbtsa8UVenkRKHmHmMznW9AFLMPH3I8RCyBGsZCDDmDvCJBBvdfUvtcBtOj1W0PzKNH96BXJ2dSFRLx4x7E4AuiT+x0S0gCqr2w3ogqJT+j1aSDF57ZrWaJ0p0edUDxN1PkVsax3wkQzucDZP3gqv5Xmlq5z47quXdpmKmlChv3CVjPpEupl8frXbAVYGuBXgAEAuftfzMLpDZgAAAAASUVORK5CYII=) no-repeat center .5em;color:#c4c4c4;text-shadow:#f8f8f8 0 1px;text-align:center;padding:2.5em 0 .5em}#tweets .loading.error{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACLklEQVRYhe2WwY2bQBSG/4f3aEtsB+4gG8kzkk+BDuIKbFcQU0GyFXhdgekgJeAbEiCFErwdIMHN1vw5BK8cAws2K+3F/wm9eTP/x7w3owHuuuuTJbdODMNwPBgMHBEZi8gXkvbZcArgleROa51+GEAQBPZwOFwAmIvIU8dpGUn/eDxuptPp/iaA0nglIj8A2K0TGkTypSiKZ9d1s84AcRw7IrIFML7V+EJ7Y8zsVJp3AaIoWliWte3jRjIVkZTkK4Bvp9IZYzyttd8I0NM8I7k5Ho9+Xd2TJPlO8icArxag3PbgFmeSKcllW/eXPqsKQBAE9mg0+oN+Nc9IzpRSu7ZE6zIwHA5XPc2BfyfF6ZJYARCReU/zk7IwDMdtSW8liOPYITnu2/WXMsYstdZ+I0DZ7Wv0uGDalOf54/nlcy5LRPYAliRbu/YGZSS9JnMAsEhmALZX3O3XyBaRdRRFi0YAEZkbYzySLoDZDSaNf/dmYlnbOI6durEHpZR3HkiSZI8rjqExxjuZtKQ6AHYVuJoFn7uaA8i01r7W2ifpkqwYlPKVUr/qBioA5WKdGpLk5vStlNoppdwGkEWSJLU7VAEAgKIo3A4QWVEUL5fBE4gx5isA/xwiiqJKo9cCuK6bFUXhXizwn4wx7x4vrXU6mUyWeZ4/kvQA7EWkcte0PkiiKHoSkbWIOGdhfzKZLNvmdtFDW4JlWb8vQh9mDnR8E5bvA/twOKR1D4y77uqjv2QXCIW9OIVeAAAAAElFTkSuQmCC) no-repeat center .5em}#tweets p{position:relative;padding-right:1em}#tweets a[href*="status"]:first-child{color:#a4a4a4;float:right;padding:0 0 .1em 1em;position:relative;right:-1.3em;text-shadow:#fff 0 1px;font-size:.7em;text-decoration:none}#tweets a[href*="status"]:first-child span{font-size:1.5em}#tweets a[href*="status"]:first-child:hover{color:#0181eb;text-decoration:none}#tweets a[href*="twitter.com/search"]{text-decoration:none}#tweets a[href*="twitter.com/search"]:hover{text-decoration:underline}.googleplus h1{-moz-box-shadow:none!important;-webkit-box-shadow:none!important;-o-box-shadow:none!important;box-shadow:none!important;border-bottom:0px none!important}.googleplus a{text-decoration:none;white-space:normal!important;line-height:32px}.googleplus a img{float:left;margin-right:.5em;border:0 none}.googleplus-hidden{position:absolute;top:-1000em;left:-1000em}#pinboard_linkroll .pin-title,#pinboard_linkroll .pin-description{display:block;margin-bottom:.5em}#pinboard_linkroll .pin-tag{text-decoration:none}#pinboard_linkroll .pin-tag:hover{text-decoration:underline}#pinboard_linkroll .pin-tag:after{content:','}#pinboard_linkroll .pin-tag:last-child:after{content:''}.delicious-posts a.delicious-link{margin-bottom:.5em;display:block}.delicious-posts p{font-size:1em}body>footer{font-size:.8em;color:#888;text-shadow:#d9d9d9 0 1px;background-color:#ccc;background:url('/images/noise.png?1418840251'),-webkit-gradient(linear,50% 0%,50% 100%,color-stop(0%,#e0e0e0),color-stop(50%,#cccccc),color-stop(100%,#b0b0b0));background:url('/images/noise.png?1418840251'),-webkit-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),-moz-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),-o-linear-gradient(#e0e0e0,#cccccc,#b0b0b0);background:url('/images/noise.png?1418840251'),linear-gradient(#e0e0e0,#cccccc,#b0b0b0);border-top:1px solid #f2f2f2;position:relative;padding-top:1em;padding-bottom:1em;margin-bottom:3em;-moz-border-radius-bottomleft:.4em;-webkit-border-bottom-left-radius:.4em;border-bottom-left-radius:.4em;-moz-border-radius-bottomright:.4em;-webkit-border-bottom-right-radius:.4em;border-bottom-right-radius:.4em;z-index:1}body>footer a{color:#6b6b6b}body>footer a:visited{color:#6b6b6b}body>footer a:hover{color:#484848}body>footer p:last-child{margin-bottom:0}html{background-color:#bec3c6;background-image:none}aside.sidebar a{color:#2970a6}article a{text-decoration:none}article a:hover{text-decoration:underline}article h1{font-size:1.8em}time{font-weight:bold}#content .blog-index article h1{font-size:1.3em;color:#111}article h3,article h4{color:#080;font-size:1.3em}div.update,div[update]{background-color:rgba(255,251,198,.5);border:1px solid #f7ed64;border-radius:5px;margin:10px 0;padding:5px}div.update ul,div[update] ul{margin:0 0 0 1.5em}div.update li,div[update] li{margin:0 0 5px 0}ins{text-decoration:none;background:#ffe}article img{margin:0 10px}b{font-weight:bold}div.tweet{margin-bottom:30px}figcaption{font-size:.6em;text-align:center}.slides{transform:translateZ(0)}.slides img{max-width:720px;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-ms-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}.slides img:hover{-webkit-transform:scale(2);-moz-transform:scale(2);-ms-transform:scale(2);-o-transform:scale(2);transform:scale(2);-webkit-box-shadow:0px 0px 10px #333;-moz-box-shadow:0px 0px 10px #333;box-shadow:0px 0px 10px #333}.codelist li{font-family:Consolas,Courier,Courier\ New;font-size:20px;height:19px;line-height:21px;list-style-type:none;margin:5px;padding:4px;width:85px}article dt{font-weight:bold;padding:20px 0 10px;font-size:1.2em}.bgtable{background-color:#fff;border:1px solid #ccc}.bgtable td,.bgtable th{padding:6px;border:1px solid #ccc}.bgtable th{font-weight:bold;background-color:#efefef}#whats-shared+p+p+aside+p+ol em{font-family:PT\ serif;color:gray}#webkit-ports-explained~blockquote{font-size:.9em;font-style:normal;color:#4d4d4d}#webkit-ports~blockquote{font-size:1.2em;font-style:italic;color:initial}#webkit-common+ul li li{font-size:85%}aside.aside{text-align:center;background-color:#deede0;border-radius:2px}blockquote cite{font-size:85%;font-style:normal}center{line-height:2;font-size:1.1em;margin:0 auto 34px;font-family:"PT Serif"}#wk-matrix{font-size:75%}#wk-matrix td,#wk-matrix th{padding:6px;line-height:1.3;border:2px solid #f8f8f8}#wk-matrix th{font-weight:bold;background-color:#b5dcad}#wk-matrix th:first-child{background-color:#68a848}#wk-matrix tr:hover td{background-color:#dbeed8}iframe.revive{font-size:15px;line-height:1.5;margin-top:15px;width:100%;height:179px}.sidebar section.twitter,.sidebar section.googleplus{display:inline-block}.sidebar section.googleplus h3{font-size:16px;display:inline-block;padding:0;height:25px;overflow:hidden;margin:0px 0 0 10px}.gittip{font-size:15px}.googleplus a img{float:none;margin-right:2px}</style>
  <link href="http://feeds.feedburner.com/paul-irish" rel="alternate" title="Paul Irish" type="application/atom+xml">
</head>
<body>
<header role="banner"><hgroup>
  <h1><a href="/">Paul Irish</a></h1>
  <h2>Making the www great</h2>
</hgroup>
</header>
<nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/paul-irish" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
</ul>
  <form action="http://google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="q" value="site:paulirish.com"/>
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
  </form>
  <ul class="main-navigation">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives/">Archives</a></li>
    <li><a href="/about/">About</a></li>
    <li><a href="/contact-me/">Contact</a></li>
  </ul>
</nav>
<div id="main">
  <div id="content">
    <div class="blog-index">
      <article>
        <header>
          <h1 class="entry-title"><a href="/2015/advanced-performance-audits-with-devtools/">Advanced Performance Audits With DevTools</a></h1>
          <p class="meta">
            <time datetime="2015-03-27T08:46:00-07:00" pubdate data-updated="true">Mar 27<span>th</span>, 2015</time>
          </p>
        </header>
        <div class="entry-content"><p>Recently, I&#8217;ve spent some time recently profiling real-world mobile websites. Using the <a href="https://docs.google.com/document/d/1bYMyE6NdiAupuwl7pWQfB-vOZBPSsXCv57hljLDMV8E/edit">1000/100/6 performance model</a><sup>1</sup>, and spelunking deep into each app, the findings have been fascinating.</p>
          <p>I&#8217;ve written up case study documents for each, incorporating all the findings:</p>
          <ol>
            <li>Illustrated diagnoses for the poor performance</li>
            <li>What actions the developer should take</li>
            <li>How Chrome&#8217;s tooling should improve</li>
            <li>Questions and insights for the rendering engine (Blink)</li>
          </ol>
          <p><a href="https://docs.google.com/document/d/1K-mKOqiUiSjgZTEscBLjtjd6E67oiK8H2ztOiq5tigk/pub">➜ Perf Audits: CNet, Time, Google Play</a></p>
          <p>In this doc, we look at the scrolling of CNET, input latency on CNET, some very interesting challenges on the responsive Time.com, and infinite scroll on Google Play&#8217;s desktop site.</p>
          <p>The intended audience is browser engineers and performance-minded frontend developers. It&#8217;s fairly advanced, but I&#8217;m spelunking deep to identify how the sites butt heads with the browser APIs and architecture.</p>
          <p>Lastly, we&#8217;re using this research to improve Chrome DevTools and what you hear from Chrome.</p>
          <center>
            <img src="http://www.paulirish.com/assets/xwikipedia-flamechart.jpg.pagespeed.ic.edcn1dn8JR.jpg">
            <small>Wikipedia eng team scrutinizing their performance millisecond by millisecond.
              (Yes, it&#8217;s a long paper printout of the Chrome DevTools timeline flamechart :)</small>
          </center>
          <p><small>(BTW, use this link to view the same doc but with <a href="https://docs.google.com/document/d/1K-mKOqiUiSjgZTEscBLjtjd6E67oiK8H2ztOiq5tigk/view">comments enabled</a>)</small></p>
          <p>1 - More on this performance model later. Stay tuned.</p>
        </div>
      </article>
      <article>
        <header>
          <h1 class="entry-title"><a href="/2013/webkit-for-developers/">WebKit for Developers</a></h1>
          <p class="meta">
            <time datetime="2013-02-28T02:53:00-08:00" pubdate data-updated="true">Feb 28<span>th</span>, 2013</time>
          </p>
        </header>
        <div class="entry-content"><div update><p>Feb 2015: A lot&#8217;s happened since I wrote this post two years ago. Chrome forked WebKit and <a href="http://www.cnet.com/news/google-parts-ways-with-apple-over-webkit-launches-blink/">started</a> Blink, Opera <a href="http://www.brucelawson.co.uk/2013/hello-blink/">adopted</a> Chromium, and node-webkit <a href="https://groups.google.com/forum/#!msg/nwjs-general/V1FhvfaFIzQ/720xKVd0jNkJ">became</a> nw.js. This post describes a complexity of defining WebKit that doesn&#8217;t exist much anymore; with Chrome&#8217;s departure the WebKit world is more simple and clear.
          <p>WebKit is deployed through iOS Safari and Mac Safari, and the active <a href="http://webkitgtk.org/">GTK community</a> leverages WebKit inside the GNOME Platform. Some smaller mobile browsers use WebKit, some Chromium, some use forks of either, and many just use the system WebViews that are both powered by up-to-date version of iOS WebKit and Android Chromium.
          <p>The post below is kept intact and represents a snapshot of history in early 2013, rather than the modern WebKit landscape.</div>
          <p><img src="http://paulirish.com/assets/webkit-box.png" alt="WebKit box logo" style="border: 0;
margin: 0;
box-shadow: none;
float: right;
vertical-align: top;">
            For many of us developers, <strong>WebKit is a black box</strong>. We throw HTML, CSS, JS and a bunch of assets at it, and WebKit, somehow.. magically, gives us a webpage that looks and works well. But in fact, <a href="http://www.youtube.com/watch?v=kiPe7DPmEgE">as my colleague Ilya Grigorik puts it</a>&#8230;</p>
          <blockquote><p>WebKit <strong>isn&#8217;t</strong> a black box. It&#8217;s a white box. And not just that, but an <strong>open</strong>, white box.</p></blockquote>
          <p>So let&#8217;s take a moment to understand some things:</p>
          <center>
            What is WebKit?
            <br> What isn&#8217;t WebKit?
            <br> How is WebKit used by WebKit-based browsers?
            <br> Why are all WebKits not the same?
          </center>

          <p>Now, especially with the news that <a href="http://my.opera.com/ODIN/blog/300-million-users-and-move-to-webkit">Opera has moved to WebKit</a>, we have a lot of WebKit browsers out there, but its pretty hard to know what they share and where they part ways. Below we&#8217;ll hopefully shine some light on this. As a result you&#8217;ll be able to diagnose browser differences better, report bugs at the right tracker, and understand how to develop against specific browsers more effectively.</p>
          <h4>Standard Web Browser Components</h4>
          <p>Let&#8217;s lay out a few components of the modern day web browser:</p>
          <ul>
            <li>Parsing (HTML, XML, CSS, JavaScript)</li>
            <li>Layout</li>
            <li>Text and graphics rendering</li>
            <li>Image decoding</li>
            <li>GPU interaction</li>
            <li>Network access</li>
            <li>Hardware acceleration</li>
          </ul>
          <p>Which of those are shared in WebKit-based browsers? <strong>Pretty much only the first two.</strong></p>
          <p>The others are handled by individual WebKit ports. Let&#8217;s review what that
            means&#8230;</p>
          <h4 id="webkit-ports-explained">The WebKit Ports</h4>
          <p>There are different &#8220;ports&#8221; of WebKit, but allow me to let Ariya Hidayat, WebKit
            hacker and eng director at Sencha
            <a href="http://ariya.ofilabs.com/2011/06/your-webkit-port-is-special-just-like-every-other-port.html">to explain</a>:</p>
          <blockquote><p>What is the popular reference to WebKit is usually Apple&#8217;s own flavor of WebKit which runs on Mac OS X (<a href="http://lists.kde.org/?l=kfm-devel&amp;m=104197092318639&amp;w=2">the first and the original</a> WebKit library). As you can guess, the various interfaces are implemented using different native libraries on Mac OS X, mostly centered around <a href="http://developer.apple.com/corefoundation/">CoreFoundation</a>. For example, if you specify a flat colored button with specific border radius, well WebKit knows where and how to draw that button. However, the final actual responsibility of drawing the button (as pixels on the user&#8217;s monitor) falls into <a href="http://developer.apple.com/library/ios/#documentation/CoreGraphics/Reference/CoreGraphics_Framework/_index.html">CoreGraphics</a>.</p></blockquote>
          <p>As mentioned above, using CG is unique to the Mac port. Chrome on Mac uses <a href="http://www.chromium.org/developers/design-documents/graphics-and-skia">Skia</a> here.</p>
          <blockquote><p>With time, WebKit was &#8220;ported&#8221; into different platform, both desktop and mobile. Such flavor is often called &#8220;a WebKit port&#8221;. For Safari Windows, Apple themselves also ported WebKit to run on Windows, using the <a href="http://developer.apple.com/opensource/internet/webkit_sptlib_agree.html">Windows version</a> of its (limited implementation of) CoreFoundation library.</p></blockquote>
          <p>… though Safari for Windows is <a href="http://www.macworld.com/article/1167904/safari_6_available_for_mountain_lion_and_lion_but_not_windows.html">now dead</a>.</p>
          <blockquote><p>Beside that, there were many other &#8220;ports&#8221; as well (see <a href="http://trac.webkit.org/wiki#WebKitPorts">the full list</a>). Google has created and continues to maintain its Chromium port. There is also WebKitGtk which is based on Gtk+. Nokia (through Trolltech, which it acquired) maintains the Qt port of WebKit, popular as its <a href="http://doc.qt.nokia.com/qtwebkit.html">QtWebKit module</a>.</p></blockquote>
          <h4 id="webkit-ports">Some of the ports of WebKit</h4>
          <ul>
            <li><strong>Safari</strong>
              <ul>
                <li>Safari for OS X and Safari for Windows are two different ports</li>
                <li>WebKit nightly is an edge build of the Mac port that&#8217;s used for Safari. More later…</li>
              </ul>
            </li>
            <li><strong>Mobile Safari</strong>
              <ul>
                <li>Maintained in a private branch, but lately <a href="http://trac.webkit.org/changeset/142163">being</a> <a href="http://trac.webkit.org/changeset/142373">upstreamed</a></li>
                <li>Chrome on iOS (using Apple&#8217;s WebView; more on it&#8217;s differences later)</li>
              </ul>
            </li>
            <li><strong>Chrome (Chromium)</strong>
              <ul>
                <li>Chrome on Android (using the Chromium port directly)</li>
                <li>Chromium also powers <a href="http://browser.yandex.ru/">Yandex Browser</a>, <a href="http://se.360.cn/">360 Browser</a>, <a href="http://ie.sogou.com/">Sogou Browser</a>, and soon, Opera.</li>
              </ul>
            </li>
            <li><strong>Android Browser</strong>
              <ul>
                <li>Used the latest WebKit source at the time</li>
              </ul>
            </li>
            <li><strong><a href="http://trac.webkit.org/wiki#WebKitPorts">Plenty more ports</a></strong>: Amazon Silk, Dolphin, Blackberry, QtWebKit, WebKitGTK+, The EFL port (Tizen), wxWebKit, WebKitWinCE, etc</li>
          </ul>
          <p>Different ports can have different focuses. The Mac port&#8217;s focus is split
            between Browser and OS, and introduces Obj-C and C++ bindings to embed the
            renderer into native applications. Chromium&#8217;s focus is purely on the browser.
            QtWebKit offers its port for applications to use as a runtime or rendering
            engine within its cross-platform GUI application architecture.</p>
          <h2 id="whats-shared">What&#8217;s shared in all WebKit browsers</h2>
          <p>First, let&#8217;s review the commonalities shared by all WebKit ports.</p>
          <p><aside class="aside">You know it&#8217;s funny. I tried writing this a few times. <br>Each time I got corrected by Chrome team members, as you&#8217;ll see…</aside></p>
          <ol>
            <li>So first, WebKit parses HTML the same way. <em>Well, except Chromium is the only port so far to enable <a href="https://bugs.webkit.org/showdependencytree.cgi?id=106127&amp;hide_resolved=0">threaded HTML parsing</a> support.</em></li>
            <li>… Okay, but once parsed, the DOM tree is constructed the same. <em>Well, actually Shadow DOM is <a href="http://goo.gl/dsXQf" title="Code Search for ENABLE(SHADOW_DOM) package:^chromium$ file:^src/third_party/WebKit/LayoutTests/platform/">only turned on</a> for the Chromium port, so DOM construction varies. Same goes for custom elements.</em></li>
            <li>… Okay, well WebKit creates a <code>window</code> object and <code>document</code> object for everyone. <em>True, though the properties and constructors it exposes can be conditional on the <a href="https://trac.webkit.org/wiki/FeatureFlags">feature flags</a> enabled.</em></li>
            <li>… CSS parsing is the same, though. Slurping up your CSS and turning it into CSSOM&#8217;s pretty standard. <em>Yeah, though Chrome accepts just the <code>-webkit-</code> prefix whereas Apple and other ports accept legacy prefixes like <code>-khtml-</code> and <code>-apple-</code>.</em></li>
            <li>… Layout.. positioning? Those are the bread and butter. Same, right? Come on! <em>Sub-pixel layout and saturated layout arithmetic is part of WebKit but differs from port to port.</em></li>
            <li>Super.</li>
          </ol>
          <p>So, it&#8217;s complicated.</p>
          <p>Just like how <a href="http://code.flickr.net/2009/12/02/flipping-out/">Flickr</a> and <a href="https://github.com/blog/677-how-we-deploy-new-features">Github</a> implement features behind flags, WebKit does the same. This allows ports to enable/disable all sorts of functionality with <a href="https://trac.webkit.org/wiki/FeatureFlags">WebKit&#8217;s compile-time Feature Flags</a>. Features can also be exposed as run-time flags either through <a href="http://peter.sh/experiments/chromium-command-line-switches/">command line switches (Chromium&#8217;s here) </a> or configuration like <a href="http://blogs.adobe.com/cantrell/archives/2012/07/all-about-chrome-flags.html">about:flags</a>.</p>
          <p>All right, well let&#8217;s try again to codify what&#8217;s the same in WebKit land&#8230;</p>
          <h4 id="webkit-common">What&#8217;s common to every WebKit port</h4>
          <ul>
            <li>The DOM, <code>window</code>, <code>document</code>
              <ul>
                <li>more or less</li>
              </ul>
            </li>
            <li>The CSSOM</li>
            <li>CSS parsing, property/value handling
              <ul>
                <li>sans vendor prefix handling</li>
              </ul>
            </li>
            <li>HTML parsing and DOM construction
              <ul>
                <li>same if we suspended belief in Web Components</li>
              </ul>
            </li>
            <li>All layout and positioning
              <ul>
                <li>Flexbox, Floats, block formatting contexts… all shared</li>
              </ul>
            </li>
            <li>The UI and instrumentation for the Chrome DevTools aka WebKit Inspector.
              <ul>
                <li>Though since last April, Safari uses it&#8217;s own, non-WebKit, closed-source UI for Safari Inspector</li>
              </ul>
            </li>
            <li>Features like contenteditable, pushState, File API, most SVG, CSS Transform math, Web Audio API, localStorage
              <ul>
                <li>Though backends vary. Each port may use a different storage layer for localStorage and may use different audio APIs for Web Audio API.</li>
              </ul>
            </li>
            <li><a href="http://trac.webkit.org/browser/trunk/Source/WebCore">Plenty of other features &amp; functionality</a></li>
          </ul>
          <p>It gets a little murky in those areas. Let&#8217;s try some differences that are much less murky.</p>
          <h4>Now, what&#8217;s <em>not</em> shared in WebKit ports:</h4>
          <ul>
            <li>Anything on the GPU
              <ul>
                <li>3D Transforms</li>
                <li>WebGL</li>
                <li>Video decoding</li>
              </ul>
            </li>
            <li>2D drawing to the screen
              <ul>
                <li>Antialiasing approaches</li>
                <li>SVG &amp; CSS gradient rendering</li>
              </ul>
            </li>
            <li>Text rendering &amp; hyphenation</li>
            <li>Network stack (SPDY, prerendering, WebSocket transport)</li>
            <li>A JavaScript engine
              <ul>
                <li>JavaScriptCore is in the WebKit repo. There are bindings in WebKit for both it and V8</li>
              </ul>
            </li>
            <li>Rendering of form controls</li>
            <li><code>&lt;video&gt;</code> &amp; <code>&lt;audio&gt;</code> element behavior (and codec support)</li>
            <li>Image decoding</li>
            <li>Navigating back/forward
              <ul>
                <li>The navigation parts of pushState()</li>
              </ul>
            </li>
            <li>SSL features like Strict Transport Security and Public Key Pins</li>
          </ul>
          <p>Let&#8217;s take one of these: <strong>2D graphics</strong> Depending on the port, we&#8217;re using completely different libraries to handle drawing to screen:</p>
          <p><img src="https://lh6.googleusercontent.com/--WfQB-Tr1sQ/TfHQSfY38FI/AAAAAAAAB8s/DSNAn8F71i8/s800/graphicscontext.png" alt="Graphics layer in WebKit" style="display:block; margin: 0 auto;"></p>
          <p>Or to go a little more micro&#8230; a recently landed feature: <code>CSS.supports()</code> was <a href="http://trac.webkit.org/changeset/142739">enabled</a> for all ports except win and wincairo, which don&#8217;t have css3 conditional features enabled.</p>
          <p>Now that we&#8217;ve gotten technical.. time to get pedantic. Even the above isn&#8217;t correct. It&#8217;s actually WebCore that&#8217;s shared. WebCore is a layout, rendering, and Document Object Model (DOM) library for HTML and SVG, and is generally what people think of when they say WebKit. In actuality &#8220;WebKit&#8221; is technically the binding layer between WebCore and the ports, though in casual conversation this distinction is mostly unimportant.</p>
          <p>A diagram should help:</p>
          <p><img src="http://paulirish.com/assets/webkit-diagram.png" alt="WebKit Diagram" style="display:block; margin: 0 auto;">  </p>
          <p>Many of the components within WebKit are swappable (shown above in gray).</p>
          <p>As an example, WebKit&#8217;s JavaScript engine, JavaScriptCore, is a default in
            WebKit. (It is based originally on KJS (from KDE) back when WebKit started as a
            fork of KHTML). Meanwhile, the Chromium port swaps in V8 here, and uses unique
            DOM bindings to map things over.</p>
          <p>Fonts and Text rendering is a huge part of platform. There are 2 separate text
            paths in WebKit: Fast and Complex. Both require platform-specific (port-side)
            support, but Fast just needs to know how to blit glyphs (which WebKit caches for
            the platform) and complex actually hands the whole string off to the platform
            layer and says &#8220;draw this, plz&#8221;.</p>
          <blockquote id="dimitri-taco">
            &#8220;WebKit is like a Sandwich. Though in Chromium&#8217;s case it&#8217;s more like a taco. A
            delicious web platform taco.&#8221; <cite> Dimitri Glazkov, Chrome WebKit hacker.
            Champion of Web Components and Shadow DOM</cite>
          </blockquote>
          <p>Now, let&#8217;s widen the lens and look at a few ports and a few subsystems. Below
            are five ports of WebKit; consider how varied their stacks are, despite sharing
            much of WebCore.</p>
          <table id="wk-matrix">
            <tr>
              <td></td>
              <th>Chrome (OS X)</td>
              <th>Safari (OS X)</td>
              <th>QtWebKit</td>
              <th>Android Browser</td>
              <th>Chrome for iOS</td>
            </tr>
            <tr>
              <th>Rendering</td>
              <td>Skia</td>
              <td>CoreGraphics</td>
              <td>QtGui</td>
              <td>Android stack/Skia</td>
              <td>CoreGraphics</td>
            </tr>
            <tr>
              <th>Networking</td>
              <td>Chromium network stack</td>
              <td>CFNetwork</td>
              <td>QtNetwork</td>
              <td>Fork of Chromium&#8217;s network stack</td>
              <td>Chromium stack</td>
            </tr>
            <tr>
              <th>Fonts</td>
              <td>CoreText via Skia</td>
              <td>CoreText</td>
              <td>Qt internals</td>
              <td>Android stack</td>
              <td>CoreText</td>
            </tr>
            <tr>
              <th>JavaScript</td>
              <td>V8</td>
              <td>JavaScriptCore</td>
              <td>JSC (V8 is used elsewhere in Qt)</td>
              <td>V8</td>
              <td>JavaScriptCore (without JITting) *</td>
            </tr>
          </table>
          <p><small>* A side note on Chrome for IOS. It uses UIWebView, as you likely know. Due to
            the capabilities of UIWebView that means it can only use the same rendering
            layer as Mobile Safari, JavaScriptCore (instead of V8) and a single-process
            model. Still, considerable Chromium-side code <a href="https://groups.google.com/a/chromium.org/forum/?fromgroups#!topic/chromium-dev/vYGxPx-tVKE">is leveraged</a>, such as the network
            layer, the sync and bookmarks infrastructure, omnibox, metrics and crash
            reporting. (Also, for what it&#8217;s worth, JavaScript is so rarely the bottleneck on
            mobile that the lack of JITting compiler has minimal impact.)
          </small></p>
          <h2>All right, so where does this leave us?</h2>
          <h4>So, all WebKits are totally different now. I&#8217;m scared.</h4>
          <p>Don&#8217;t be! The <a href="http://trac.webkit.org/browser/trunk/LayoutTests">layoutTest coverage in WebKit</a> is enormous (28,000
            layoutTests at last count), not only for existing features but for any found
            regressions. In fact, whenever you&#8217;re exploring some new or esoteric
            DOM/CSS/HTML5-y feature, the layoutTests often have fantastic minimal demos of
            the entire web platform.</p>
          <p>In addition, the <a href="http://www.w3.org/QA/2013/02/testing_the_open_web_platform.html">W3C is ramping up its effort for conformance suite testing</a>. This
            means we can expect both different WebKit ports and all browsers to be testing
            against the same suite of tests, leading to fewer quirks and a more
            interoperable web. For all those who have assisted this effort by going to a
            <a href="http://testthewebforward.org/">Test The Web Forward event</a>&#8230; thank you!</p>
          <h4>Opera just moved to WebKit. How does that play out?</h4>
          <p>Robert Nyman and Rob Hawkes <a href="http://robertnyman.com/2013/02/14/webkit-an-objective-view/">touched on this, too</a>,
            but I&#8217;ll add that one of the significant parts of Opera&#8217;s announcement was that
            <strong>Opera adopted Chromium</strong>. This means the WebGL, Canvas, HTML5 forms, 2D
            graphics implementations&#8211;all that stuff will be the same on Chrome and Opera
            now. Same APIs, and same backend implementation. Since Opera is Chromium-based,
            you can feel confident that your cutting-edge work will be compatible with
            Chrome and Opera simultaneously.</p>
          <p>I should also point out that <strong><a href="http://twatlr.com/thread/301603979257856000">all</a></strong><a href="http://twatlr.com/thread/301603979257856000"> Opera browsers</a> will be adopting
            Chromium. So Opera for Windows, Mac and Linux and Opera Mobile (the fully
            fledged mobile browser). Even Opera Mini, the thin client, will be swapping out
            the current server-side rendering farm based on Presto with one based on
            Chromium.</p>
          <h4>.. and the WebKit Nightly. What is that?</h4>
          <p>It&#8217;s the <a href="http://trac.webkit.org/browser/trunk/Source/WebKit/mac">mac port</a> of
            WebKit, running inside of the same binary that Safari uses (though with a few
            underlying libraries swapped out). Apple mostly calls the shots in it, so its behavior and feature set is congruent
            with what you&#8217;ll find in Safari. In many cases Apple takes a conservative approach when enabling features that other ports may be implementing or experimenting with. Anyway, if you want to go back to middle-school
            analogies, think of it as&#8230; WebKit Nightly is to Safari what Chromium is to
            Chrome.</p>
          <p><a href="http://paulirish.com/2012/chrome-canary-for-developers/">Chrome Canary</a> also
            has the latest WebKit source within a day or so.</p>
          <h4>Tell me more about WebKit internals.</h4>
          <p>You got it, bucko.</p>
          <p><a href="https://docs.google.com/presentation/d/1ZRIQbUKw9Tf077odCh66OrrwRIVNLvI_nhLm2Gi__F0/embed?start=false&loop=false&delayms=3000">
            <img src="http://paulirish.com/i/3fb890.png" alt=""/>
          </a></p>
          <h4>Further reading:</h4>
          <ul>
            <li><a href="http://www.webkit.org/coding/technical-articles.html">WebKit internals technical articles | webkit.org</a></li>
            <li><a href="http://robertnyman.com/2013/02/14/webkit-an-objective-view/">WebKit: An Objective View | Robert Nyman &amp; Rob Hawkes</a></li>
            <li><a href="http://ariya.ofilabs.com/2011/06/your-webkit-port-is-special-just-like-every-other-port.html">your webkit port is special (just like every other port) | Ariya Hidayat</a></li>
            <li><a href="http://blogs.adobe.com/webplatform/2013/01/21/getting-started-with-the-webkit-layout-code/">Getting Started With the WebKit Layout Code | Adobe Web Platform Blog</a></li>
            <li><a href="http://arunpatole.com/blog/2011/webkit-documentation/">WebKit Documentation Overview | Arun Patole</a></li>
            <li><a href="http://www.youtube.com/watch?v=RVnARGhhs9w">Rendering in WebKit, by Eric Seidel | YouTube</a></li>
            <li><a href="http://www.igvita.com/slides/2012/web-performance-for-the-curious/">web performance for the curious | Ilya Grigorik</a></li>
          </ul>
          <p>Hopefully this article described a bit of the internals of WebKit browsers and
            gave some insight on where the WebKit ends and the ports begin.</p>
          <hr>
          <p>Reviewed by Peter Beverloo (Chrome), Eric Seidel (WebKit). <br/>
            I&#8217;ll update with any corrections or modifications.</p>
          <div update>
            <ul>
              <li> 8:30am. Removing the slides embed because it&#8217;s making Firefox scroll to its position.
              <li> 9:50am. Chrome for Mac&#8217;s font rendering in Skia uses CoreText to draw
                glyphs, so it&#8217;s more like CoreText via Skia. (thx thakis!)
              <li> 10:49am. Fixed broken link and typo. (thx tim!) Fixed weird meta description choice.
              <li> 3:00pm: Mike West pointed to Levi Weintraub&#8217;s sweet & <em>detailed</em> <a href="http://www.youtube.com/watch?v=GGzmST5nNSM">What is WebKit?&#8221; presentation (video)</a>. <a href="http://www.slideshare.net/naseemh/airbnb-tech-talk">slides</a>
              <li> 4:00pm. tonikitoo, hacker on QtWebKit wanted to clear up some subtleties:
                <blockquote style="font-size: 12px">Nokia (through Trolltech, which it acquired) maintains the Qt port of WebKit, popular as its QtWebKit module. It might be valuable to mentioned that Digia acquired the Trolltech/Qt division of Nokia and now maintains QtWebKit. Also, not to be too nit-picker, in your subtitles &#8220;Some of the ports of WebKit&#8221; I would have said &#8220;Some of the Products running on top of specific ports of WebKit&#8221; because strictly speaking Safari is not a port, but a &#8220;Browser that makes use of the Apple WebKit port on Mac&#8221;.</blockquote>
                True.
              <li>5:00pm. <a href="http://myakura.github.com/n/webkit4devs.html">This article has been translated into Japanese</a>. Thanks Masataka Yakura!
              <li>2013-03-17: <a href="http://habrahabr.ru/post/173141/">This article has been translated into Russian</a>
              <li>2013-03-18: <a href="http://www.infoq.com/cn/articles/webkit-for-developers">This article has been translated into Chinese</a> (also <a href="http://ued.taobao.com/blog/2013/03/webkit-for-developers/">this one!</a>)
              <li>2013-04-06: <a href="https://plus.google.com/105636695715347097518/posts/Ubrgmz3LpaR">Chrome emeritus Ben Goodger gave more insight</a> on the relationship between WebCore, WebKit, WebKit2 and the Chromium Content API that&#8217;s useful context.
            </ul>
          </div>
        </div>
      </article>
      <article>
        <header>
          <h1 class="entry-title"><a href="/2012/why-moving-elements-with-translate-is-better-than-posabs-topleft/">Why Moving Elements With Translate() Is Better Than Pos:abs Top/left</a></h1>
          <p class="meta">
            <time datetime="2012-12-20T00:00:00-08:00" pubdate data-updated="true">Dec 20<span>th</span>, 2012</time>
          </p>
        </header>
        <div class="entry-content"><p>In modern days we have two primary options for moving an element across the screen:</p>
          <ol>
            <li>using CSS 2D transforms and <code>translate()</code></li>
            <li>using <code>position:absolute</code> and <code>top</code>/<code>left</code></li>
          </ol>
          <p><a href="http://css-tricks.com/tale-of-animation-performance/">Chris Coyier was asked why you should use translate. Go read his response</a> which covers well why it&#8217;s more logical to move elements for design purposes (with <code>transform</code>) independent of your element layout (with <code>position</code>).</p>
          <p>I wanted to answer this with Chrome and get some good evidence on what&#8217;s going on. I ended up recording a video on the experience:</p>
          <iframe width="720" height="464" src="http://www.youtube.com/embed/NZelrwd_iRs" frameborder="0" allowfullscreen></iframe>
          <p>It&#8217;s a good watch and dives into Chrome DevTools&#8217; Timeline, compositing, paint cost, accelerated layers, and more&#8230; but if you want the abbreviated text version, read on:</p>
          <p>First thing, Chris made some simple demos to try things out:</p>
          <p><a href="http://codepen.io/chriscoyier/pen/pBCax"><img width=290 height=190 src="http://paulirish.com/i/cd3fa0.png"></a>
            <a href="http://codepen.io/chriscoyier/pen/kyctm"><img width=290 height=190 src="http://paulirish.com/i/c90080.png"></a></p>
          <p>This sorta works, but there is such low complexity in this situation that it&#8217;s all going to look pretty great. We need something closer to a complex website to properly evaluate the two <em>(thx <a href="http://joshnh.com/">joshua</a> for the macbook!)</em>:</p>
          <p><a href="http://codepen.io/paulirish/pen/nkwKs"><img width=290 height=190 src="http://paulirish.com/i/014f60.png"></a>
            <a href="http://codepen.io/paulirish/pen/LsxyF"><img width=290 height=190 src="http://paulirish.com/i/7c70c0.png"></a></p>
          <p>Now we&#8217;re starting to get closer, but immediately I get distracted by something.</p>
          <h4>Distraction: Pixel snapping</h4>
          <p>If you run the demo above you might notice the top edge of the MacBook looks a little bit better in the top/left one. (And here I am writing a post about why translate is better! Preposterous!) So this is due to the absolute positioned macbook sticks to pixel positions, whereas the <code>translate()</code>&#8216;d one can interpolate at sub-pixel positions.</p>
          <p>One of the Chrome GPU engineers, James Robinson, called this the &#8220;dubstep effect&#8221;, as these pixels appear to be getting pounded by bass. Here&#8217;s a closeup of the effect&#8230; watch the top white edge of the macbook in each:</p>
          <p><img src="http://paulirish.com/wp-content/uploads/2012/12/dubstep-effect1.gif" alt=""/></p>
          <p>On the left, you see stair-stepping down three pixels and back up again. This <a href="http://dcurt.is/pixel-fitting">pixel snapping</a> may result in a less distracting transition in this case, though this wouldn&#8217;t be so noticeable if you were moving objects with less of a high-contrast situation.</p>
          <h4>Back to performance</h4>
          <p>If you run DevTool&#8217;s Timeline Frames mode on these two examples here, they start to tell a very different story:</p>
          <p><img src="http://paulirish.com/wp-content/uploads/2012/12/timeline-frames-macbook1.png" alt=""/></p>
          <p>The top/left has very large time to paint each frame, which results in a choppier transition. All the CSS including some big box shadows, are computed on the CPU and composited against that gradient backdrop every frame. The <code>translate</code> version, on the other hand, gets the laptop element elevated onto it&#8217;s own layer on the GPU (called a RenderLayer). Now that it sits on its own layer, any 2D transform, 3D transform, or opacity changes can happen purely on the GPU which will stay extremely fast and still get us quick frame rates.</p>
          <p>Watch the video above towards the end to see more on how to diagnose paint costs, see what areas are being repainted, and evaluate what elements are on the GPU.</p>
          <h4>Demo</h4>
          <p>Click through below, try adding more and see how the the framerate reacts. Feel free to open up DevTools, too and explore Timeline:</p>
          <p><a href="http://codepen.io/paulirish/pen/nkwKs"><img src="http://paulirish.com/i/f72310.png" width=300 height=226></a><a href="http://codepen.io/paulirish/pen/LsxyF"><img src="http://paulirish.com/i/2cc900.png" width=300 height=226></a></p>
          <h4>Guidelines for animation</h4>
          <ol>
            <li>Use CSS keyframe animation or CSS transitions, if at all possible. The browser can optimize painting and compositing bigtime here.</li>
            <li>If needs to be it&#8217;s JS-based animation, use <code>requestAnimationFrame</code>. Avoid <code>setTimeout</code>, <code>setInterval</code>.</li>
            <li>Avoid changing inline styles on every frame (jQuery <code>animate()</code>-style) if you can, declarative animations in CSS can be optimized by the browser way more.</li>
            <li>Using 2D transforms instead of absolute positioning will typically provide better FPS by way of smaller paint times and smoother animation.</li>
            <li>Use Timeline Frame&#8217;s mode to investigate what is slowing down your behavior</li>
            <li>&#8220;Show Paint Rects&#8221; and &#8220;Render Composited Layer Borders&#8221; are good pro-moves to verify where your element is being rendered.</li>
          </ol>
        </div>
      </article>
      <div class="pagination">
        <a class="prev" href="/page/2/">&larr; Older</a>
        <a href="/blog/archives">Blog Archives</a>
      </div>
    </div>
    <aside class="sidebar">
      <section>
        <div>
          <p>
            Heyo, I&#8217;m
            a <strong>front-end developer</strong>,<br>
            and work on the <strong>Google Chrome</strong> team focused on Developer Tooling.<br>
            <br><br>I live in sunny Palo Alto.<br><br>
            <strong><a href="/contact-me/">Contact me</a></strong> or <b><a href="/about/">read more about me</a></b></p>
          <div style="text-align:center; margin: 15px 0;">
            <img id="side-avatar" width="150" height="150" src="http://paulirish.com/avatar150.jpg" title="Photo by Ben Alman. Scribble made here on this site background by @gravitywins."/>
          </div>
        </div>
      </section>
      <section class="twitter">
        <a href="http://twitter.com/paul_irish" class="twitter-follow-button" data-show-count="false">Follow @paul_irish</a>
      </section>
      <section>
        <h1>Popular Posts</h1>
        <ul id="recent_posts">
          <li class="post">
            <a href="/2012/why-moving-elements-with-translate-is-better-than-posabs-topleft/">Why moving elements with translate() is better than pos:abs top/left</a>
          </li>
          <li class="post">
            <a href="/2008/conditional-stylesheets-vs-css-hacks-answer-neither/">Conditional stylesheets vs CSS hacks? Answer: Neither!</a>
          </li>
          <li class="post">
            <a href="/2011/requestanimationframe-for-smart-animating/">requestAnimationFrame for smart animating</a>
          </li>
          <li class="post">
            <a href="/2011/semantics/">Semantics in practice and mapping semantic value to its consumers</a>
          </li>
          <li class="post">
            <a href="/2013/webkit-for-developers/">WebKit for Developers</a>
          </li>
        </ul>
      </section>
      <hr>
      <iframe id='ad4d8ab2' class=revive seamless name='ad4d8ab2' frameborder='0' scrolling='no'><a href='https://revive.bocoup.com/www/delivery/ck.php?n=a3fe5146&amp;cb=723' target='_blank'><img src='https://revive.bocoup.com/www/delivery/avw.php?zoneid=7&amp;cb=723&amp;n=a3fe5146' border='0' alt=''/></a></iframe>
    </aside>
  </div>
</div>
<footer role="contentinfo"><p>Paul Irish doesn't care about attribution, b. — It's all yours under <a href="http://creativecommons.org/publicdomain/zero/1.0/">Creative Commons CC0</a>. Unrelatedly, <a href="http://shailamusharoff.com">Shaila Musharoff</a> is pretty awesome.</p>

  <link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold|PT+Sans:regular,italic,bold|Droid+Sans:400,700|Lato:700,900" rel="stylesheet" type="text/css">
  <script src="http://www.paulirish.com/javascripts/modernizr-2.0.js.pagespeed.ce.tWJiHFCbtH.js"></script>
  <script src="http://www.paulirish.com/javascripts/ender.js.pagespeed.ce.gNFbbAwMF-.js"></script>
  <script src="http://www.paulirish.com/javascripts/octopress.js.pagespeed.jm.z0mzlAUVKk.js" type="text/javascript"></script>
  <script>setTimeout(function(){document.querySelector('#ad4d8ab2').src='http://revive.bocoup.com/www/delivery/afr.php?zoneid=7&amp;cb=723';},4000);</script>
  <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-692547-2']);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script>
</footer>
<script type="text/javascript">var disqus_shortname='paulirish';var disqus_script='count.js';(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;dsq.src='http://'+disqus_shortname+'.disqus.com/'+disqus_script;(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);}());</script>
<script type="text/javascript">(function(){var script=document.createElement('script');script.type='text/javascript';script.async=true;script.src='https://apis.google.com/js/plusone.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(script,s);})();</script>
<script type="text/javascript">(function(){var twitterWidgets=document.createElement('script');twitterWidgets.type='text/javascript';twitterWidgets.async=true;twitterWidgets.src='http://platform.twitter.com/widgets.js';document.getElementsByTagName('head')[0].appendChild(twitterWidgets);})();</script>
</body>
</html>
